{"ast":null,"code":"var _jsxFileName = \"/home/cesur/Documents/Projects/iki-kisilik-web/src/components/games/ShapeDrop/ShapeDrop.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport styled, { keyframes } from 'styled-components';\n\n// Animasyonlar\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst fadeIn = keyframes`\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n`;\nconst pulse = keyframes`\n  0% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n`;\n\n// Stil bileşenleri\nconst GameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  padding: 10px;\n  position: relative;\n  overflow: hidden;\n`;\n_c = GameContainer;\nconst Header = styled.h2`\n  color: #fff;\n  font-size: 2.2rem;\n  text-align: center;\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n  text-shadow: 0 2px 10px rgba(0,0,0,0.2);\n`;\n_c2 = Header;\nconst ScoreBoard = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 24px;\n  margin: 0.5rem 0 1rem;\n  padding: 8px 20px;\n  border-radius: 12px;\n  background: rgba(255,255,255,0.1);\n  animation: ${fadeIn} 0.5s ease-out;\n`;\n_c3 = ScoreBoard;\nconst PlayerScore = styled.div`\n  color: ${props => props.color};\n  font-size: 1.2rem;\n  font-weight: bold;\n  padding: 8px 15px;\n  border-radius: 8px;\n  border: 2px solid ${props => props.color};\n  background: ${props => props.active ? `${props.color}22` : 'transparent'};\n  animation: ${props => props.active ? pulse : 'none'} 1s infinite;\n`;\n_c4 = PlayerScore;\nconst GameArea = styled.div`\n  width: 100%;\n  height: calc(100vh - 220px);\n  min-height: 500px;\n  position: relative;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 15px;\n  overflow: hidden;\n  background: rgba(0, 0, 0, 0.2);\n  margin: 0;\n  cursor: none;\n`;\n_c5 = GameArea;\nconst InfoText = styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  text-align: center;\n  margin: 0.5rem 0;\n  color: white;\n  background: linear-gradient(45deg, #3498db, #1abc9c);\n  padding: 8px 20px;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n`;\n_c6 = InfoText;\nconst NextButton = styled.button`\n  background: linear-gradient(45deg, #2ecc71, #27ae60);\n  color: white;\n  font-size: 1.3rem;\n  font-weight: bold;\n  padding: 12px 40px;\n  border: none;\n  border-radius: 8px;\n  margin-top: 1rem;\n  cursor: pointer;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n  \n  &:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 6px 15px rgba(0,0,0,0.2);\n  }\n`;\n_c7 = NextButton;\nconst TargetDisplay = styled.div`\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n  align-items: center;\n  margin: 0.5rem 0;\n  padding: 8px 15px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n  flex-wrap: wrap;\n`;\n_c8 = TargetDisplay;\nconst TargetItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: linear-gradient(45deg, #3498db, #9b59b6);\n  padding: 5px 10px;\n  border-radius: 8px;\n  margin: 5px;\n`;\n_c9 = TargetItem;\nconst TargetIcon = styled.div`\n  width: 30px;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  svg {\n    width: 100%;\n    height: 100%;\n    fill: white;\n  }\n`;\n_c0 = TargetIcon;\nconst TargetCount = styled.div`\n  font-size: 1rem;\n  font-weight: bold;\n  color: white;\n`;\n_c1 = TargetCount;\nconst Timer = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: white;\n  padding: 5px 15px;\n  border-radius: 10px;\n  background: ${props => props.urgent ? '#e74c3c' : '#3498db'};\n  z-index: 10;\n`;\n\n// Düşen şekil stili\n_c10 = Timer;\nconst createFallingAnimation = (startX, endX, duration) => keyframes`\n  0% { transform: translate(${startX}px, -50px); }\n  100% { transform: translate(${endX}px, calc(100vh - 220px)); }\n`;\n\n// El yakalayıcı SVG'sini ekle\nconst HandCatcher = styled.div`\n  position: absolute;\n  left: ${props => props.x - 30}px;\n  top: ${props => props.y - 35}px;\n  width: 60px;\n  height: 70px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n  z-index: 5;\n  transform: rotate(0deg);\n`;\n_c11 = HandCatcher;\nconst ShapeContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50px;\n  height: 50px;\n  display: ${props => props.caught ? 'none' : 'flex'};\n  justify-content: center;\n  align-items: center;\n  animation: ${props => createFallingAnimation(props.startX, props.endX, props.duration)} ${props => props.duration}s linear forwards;\n  animation-play-state: ${props => props.paused ? 'paused' : 'running'};\n  pointer-events: auto;\n  z-index: 3;\n  cursor: pointer;\n  \n  svg {\n    width: 100%;\n    height: 100%;\n    fill: ${props => props.color};\n    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));\n  }\n`;\n\n// Yakalayıcı bileşenlerini değiştir\n_c12 = ShapeContainer;\nconst CatcherContainer = styled.div`\n  display: none;\n`;\nconst CatcherInner = styled.div`\n  display: none;\n`;\nconst CatchEffect = styled.div`\n  position: absolute;\n  left: ${props => props.x - 30}px;\n  top: ${props => props.y - 30}px;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: ${props => props.color}88;\n  pointer-events: none;\n  animation: ${pulse} 0.3s ease-out forwards;\n  z-index: 4;\n`;\n_c13 = CatchEffect;\nconst PLAYER_COLORS = ['#e74c3c', '#3498db', '#2ecc71', '#f1c40f'];\nconst SHAPES = [{\n  name: 'Kare',\n  svg: /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsxDEV(\"rect\", {\n      width: \"24\",\n      height: \"24\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 35\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 10\n  }, this)\n}, {\n  name: 'Daire',\n  svg: /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"12\",\n      cy: \"12\",\n      r: \"12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 35\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 10\n  }, this)\n}, {\n  name: 'Üçgen',\n  svg: /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"12,0 24,24 0,24\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 35\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 10\n  }, this)\n}, {\n  name: 'Yıldız',\n  svg: /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"12,0 15,9 24,9 17,15 20,24 12,18 4,24 7,15 0,9 9,9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 35\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 10\n  }, this)\n}, {\n  name: 'Kalp',\n  svg: /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 35\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 10\n  }, this)\n}, {\n  name: 'Altıgen',\n  svg: /*#__PURE__*/_jsxDEV(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"12,0 23,6 23,18 12,24 1,18 1,6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 35\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 10\n  }, this)\n}];\nconst ShapeDrop = ({\n  playerCount\n}) => {\n  _s();\n  const [players, setPlayers] = useState(Array.from({\n    length: playerCount\n  }, (_, i) => ({\n    id: i,\n    score: 0,\n    shapesCollected: {}\n  })));\n  const [activePlayer, setActivePlayer] = useState(0);\n  const [phase, setPhase] = useState('ready');\n  const [round, setRound] = useState(0);\n  const [targets, setTargets] = useState([]);\n  const [activeShapes, setActiveShapes] = useState([]);\n  const [mousePosition, setMousePosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [gamePaused, setGamePaused] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(30); // 30 saniye süre\n  const [catchEffects, setCatchEffects] = useState([]);\n  const gameAreaRef = useRef(null);\n  const shapeIntervalRef = useRef(null);\n  const totalRounds = playerCount; // Her oyuncu 1 tur oynasın\n\n  // Fare pozisyonunu izleme\n  const handleMouseMove = e => {\n    if (phase !== 'playing' || gamePaused) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setMousePosition({\n      x,\n      y\n    });\n  };\n\n  // Yeni hedefler oluştur\n  const generateTargets = () => {\n    const newTargets = [];\n    const shapesCount = Math.floor(Math.random() * 2) + 3; // 3-4 farklı şekil\n\n    // Şekilleri rastgele seç\n    const selectedShapes = [...SHAPES].sort(() => Math.random() - 0.5).slice(0, shapesCount);\n\n    // Her şekil için hedef sayı belirle (5-15 arası)\n    selectedShapes.forEach(shape => {\n      newTargets.push({\n        shape,\n        count: Math.floor(Math.random() * 6) + 5\n      });\n    });\n    setTargets(newTargets);\n  };\n\n  // Turu başlat\n  const startRound = () => {\n    // Yeni hedefler oluştur\n    generateTargets();\n\n    // Başlangıç değerlerini sıfırla\n    setActiveShapes([]);\n    setTimeLeft(30);\n    setPhase('playing');\n\n    // Aktif oyuncunun topladığı şekilleri sıfırla\n    setPlayers(prev => prev.map((p, i) => {\n      if (i === activePlayer) {\n        return {\n          ...p,\n          shapesCollected: {}\n        };\n      }\n      return p;\n    }));\n\n    // Düzenli aralıklarla şekil düşürmeye başla\n    if (shapeIntervalRef.current) {\n      clearInterval(shapeIntervalRef.current);\n    }\n    shapeIntervalRef.current = setInterval(() => {\n      if (gamePaused) return;\n\n      // Rastgele şekil ekle\n      addRandomShape();\n    }, 700); // Her 700ms'de bir yeni şekil (biraz daha yavaş)\n  };\n\n  // Rastgele şekil oluşturma\n  const addRandomShape = () => {\n    const gameArea = gameAreaRef.current;\n    if (!gameArea) return;\n    const gameWidth = gameArea.clientWidth;\n\n    // Rastgele bir şekil seç\n    const shape = SHAPES[Math.floor(Math.random() * SHAPES.length)];\n\n    // Başlangıç X pozisyonu\n    const startX = Math.random() * (gameWidth - 50);\n\n    // Rastgele bir hız belirle (2-6 saniye)\n    const speed = Math.random() * 2 + 2;\n\n    // Yeni şekil oluştur\n    const newShape = {\n      id: Date.now() + Math.random(),\n      shape,\n      startX,\n      endX: startX,\n      // Düz düşsün, endX = startX\n      speed,\n      y: 0,\n      caught: false,\n      color: targets.some(t => t.shape.name === shape.name) ? '#FFD700' // Hedef şekiller altın renkli\n      : '#FFFFFF',\n      // Diğerleri beyaz\n      timestamp: Date.now()\n    };\n    setActiveShapes(prev => [...prev, newShape]);\n  };\n\n  // Şekillerin pozisyonunu güncelle\n  useEffect(() => {\n    if (phase !== 'playing' || gamePaused) return;\n    const gameArea = gameAreaRef.current;\n    if (!gameArea) return;\n    const gameHeight = gameArea.clientHeight;\n    const animationInterval = setInterval(() => {\n      const currentTime = Date.now();\n      setActiveShapes(prev => prev.map(shape => {\n        if (shape.caught) return shape;\n\n        // Geçen süreyi hesapla\n        const elapsedTime = (currentTime - shape.timestamp) / 1000;\n        const progress = Math.min(1, elapsedTime / shape.speed);\n\n        // Mevcut Y pozisyonunu hesapla\n        const yPos = progress * (gameHeight + 100) - 50;\n\n        // Ekranın dışına çıktıysa kaldır\n        if (yPos > gameHeight && !shape.caught) {\n          return {\n            ...shape,\n            caught: true\n          };\n        }\n        return {\n          ...shape,\n          y: yPos\n        };\n      }));\n\n      // 5 saniyeden eski yakalanmış şekilleri temizle\n      setActiveShapes(prev => prev.filter(shape => {\n        const age = (currentTime - shape.timestamp) / 1000;\n        return !shape.caught || age < 5;\n      }));\n    }, 16); // Yaklaşık 60 FPS\n\n    return () => clearInterval(animationInterval);\n  }, [phase, gamePaused]);\n\n  // Zamanı takip et\n  useEffect(() => {\n    if (phase !== 'playing') return;\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          // Süre doldu\n          endRound();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [phase]);\n\n  // Tur sonu kontrolü\n  const endRound = () => {\n    if (shapeIntervalRef.current) {\n      clearInterval(shapeIntervalRef.current);\n      shapeIntervalRef.current = null;\n    }\n    setGamePaused(true);\n    setPhase('result');\n\n    // 3 saniye sonra sonraki aşama\n    setTimeout(() => {\n      const newRound = round + 1;\n      setRound(newRound);\n      if (newRound >= totalRounds) {\n        setPhase('end');\n      } else {\n        setActivePlayer((activePlayer + 1) % playerCount);\n        setPhase('ready');\n        setGamePaused(false);\n      }\n    }, 3000);\n  };\n\n  // Temizlik işlemleri\n  useEffect(() => {\n    return () => {\n      if (shapeIntervalRef.current) {\n        clearInterval(shapeIntervalRef.current);\n      }\n    };\n  }, []);\n\n  // Kazananı bul\n  const winner = players.reduce((max, p) => p.score > max.score ? p : max, players[0]);\n\n  // Beraberlik durumu\n  const isTie = players.filter(p => p.score === winner.score).length > 1;\n\n  // Hedef ilerleme hesapla\n  const calculateProgress = shapeName => {\n    const target = targets.find(t => t.shape.name === shapeName);\n    if (!target) return {\n      collected: 0,\n      target: 0,\n      percent: 0\n    };\n    const collected = players[activePlayer].shapesCollected[shapeName] || 0;\n    const percent = Math.min(100, collected / target.count * 100);\n    return {\n      collected,\n      target: target.count,\n      percent\n    };\n  };\n\n  // Şekile tıklama olayını işle\n  const handleShapeClick = shapeId => {\n    if (phase !== 'playing' || gamePaused) return;\n\n    // Tıklanan şekli bul\n    const clickedShape = activeShapes.find(shape => shape.id === shapeId);\n    if (!clickedShape || clickedShape.caught) return;\n\n    // Şekli yakalandı olarak işaretle\n    setActiveShapes(prev => prev.map(shape => shape.id === shapeId ? {\n      ...shape,\n      caught: true\n    } : shape));\n\n    // Yakalama efekti ekle\n    setCatchEffects(prev => [...prev, {\n      id: Date.now() + Math.random(),\n      x: clickedShape.startX + 25,\n      // Şeklin ortası\n      y: clickedShape.y + 25,\n      // Güncel Y pozisyonu kullan\n      color: clickedShape.color\n    }]);\n\n    // 500ms sonra efekti kaldır\n    setTimeout(() => {\n      setCatchEffects(prev => prev.filter(effect => effect.id !== Date.now() + Math.random()));\n    }, 500);\n\n    // Hedef şekil mi kontrol et\n    const targetShape = targets.find(t => t.shape.name === clickedShape.shape.name);\n    if (targetShape) {\n      // Oyuncunun topladığı şekilleri güncelle\n      setPlayers(prev => prev.map((p, i) => {\n        if (i === activePlayer) {\n          const updatedShapesCollected = {\n            ...p.shapesCollected\n          };\n          updatedShapesCollected[clickedShape.shape.name] = (updatedShapesCollected[clickedShape.shape.name] || 0) + 1;\n          return {\n            ...p,\n            shapesCollected: updatedShapesCollected,\n            score: p.score + 1 // Her yakalanan hedef şekil için 1 puan\n          };\n        }\n        return p;\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GameContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: \"\\u015Eekil Yakalama\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScoreBoard, {\n      children: players.map((player, index) => /*#__PURE__*/_jsxDEV(PlayerScore, {\n        color: PLAYER_COLORS[index],\n        active: activePlayer === index && phase !== 'end',\n        children: [\"Oyuncu \", index + 1, \": \", player.score]\n      }, player.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 7\n    }, this), phase === 'ready' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(InfoText, {\n        children: [\"S\\u0131ra: Oyuncu \", activePlayer + 1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(NextButton, {\n        onClick: startRound,\n        children: \"Haz\\u0131r\\u0131m\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), (phase === 'playing' || phase === 'result') && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(InfoText, {\n        children: phase === 'playing' ? `Hedef şekilleri yakala!` : `Süre doldu! Yakalalanlar: ${Object.values(players[activePlayer].shapesCollected).reduce((a, b) => a + b, 0)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TargetDisplay, {\n        children: targets.map((target, i) => {\n          const progress = calculateProgress(target.shape.name);\n          return /*#__PURE__*/_jsxDEV(TargetItem, {\n            children: [/*#__PURE__*/_jsxDEV(TargetIcon, {\n              children: target.shape.svg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TargetCount, {\n              children: [progress.collected, \"/\", target.count]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GameArea, {\n        ref: gameAreaRef,\n        onMouseMove: handleMouseMove,\n        children: [phase === 'playing' && /*#__PURE__*/_jsxDEV(Timer, {\n          urgent: timeLeft <= 5,\n          children: timeLeft\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 15\n        }, this), activeShapes.map(shape => /*#__PURE__*/_jsxDEV(ShapeContainer, {\n          startX: shape.startX,\n          endX: shape.endX,\n          duration: shape.speed,\n          paused: gamePaused,\n          color: shape.color,\n          caught: shape.caught,\n          onClick: () => handleShapeClick(shape.id),\n          children: shape.shape.svg\n        }, shape.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 15\n        }, this)), catchEffects.map(effect => /*#__PURE__*/_jsxDEV(CatchEffect, {\n          x: effect.x,\n          y: effect.y,\n          color: effect.color\n        }, effect.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 15\n        }, this)), phase === 'playing' && /*#__PURE__*/_jsxDEV(HandCatcher, {\n          x: mousePosition.x,\n          y: mousePosition.y,\n          color: PLAYER_COLORS[activePlayer],\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: PLAYER_COLORS[activePlayer],\n            strokeWidth: \"2\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M6,12.5 v-2 c0-1.1,0.9-2,2-2 s2,0.9,2,2 v-4 c0-1.1,0.9-2,2-2 s2,0.9,2,2 v0 c0-1.1,0.9-2,2-2 s2,0.9,2,2 v4 c0-1.1,0.9-2,2-2 s2,0.9,2,2 v6 c0,4.4-3.6,8-8,8 h-2 c-2.8,0-5.5-1.5-7-4 l-3-5\",\n              fill: \"rgba(255,255,255,0.2)\",\n              strokeLinejoin: \"round\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), phase === 'end' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(InfoText, {\n        children: isTie ? 'Oyun Bitti! Beraberlik!' : `Oyun Bitti! Kazanan: Oyuncu ${winner.id + 1}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ScoreBoard, {\n        children: players.map((player, index) => /*#__PURE__*/_jsxDEV(PlayerScore, {\n          color: PLAYER_COLORS[index],\n          active: player.id === winner.id && !isTie,\n          children: [\"Oyuncu \", index + 1, \": \", player.score]\n        }, player.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(NextButton, {\n        onClick: () => window.location.reload(),\n        children: \"Tekrar Oyna\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 567,\n    columnNumber: 5\n  }, this);\n};\n_s(ShapeDrop, \"gWPi+bl+TuqsU7XKX2pAQwCt08w=\");\n_c14 = ShapeDrop;\nexport default ShapeDrop;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"GameContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"ScoreBoard\");\n$RefreshReg$(_c4, \"PlayerScore\");\n$RefreshReg$(_c5, \"GameArea\");\n$RefreshReg$(_c6, \"InfoText\");\n$RefreshReg$(_c7, \"NextButton\");\n$RefreshReg$(_c8, \"TargetDisplay\");\n$RefreshReg$(_c9, \"TargetItem\");\n$RefreshReg$(_c0, \"TargetIcon\");\n$RefreshReg$(_c1, \"TargetCount\");\n$RefreshReg$(_c10, \"Timer\");\n$RefreshReg$(_c11, \"HandCatcher\");\n$RefreshReg$(_c12, \"ShapeContainer\");\n$RefreshReg$(_c13, \"CatchEffect\");\n$RefreshReg$(_c14, \"ShapeDrop\");","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","keyframes","jsxDEV","_jsxDEV","Fragment","_Fragment","fadeIn","pulse","GameContainer","div","_c","Header","h2","_c2","ScoreBoard","_c3","PlayerScore","props","color","active","_c4","GameArea","_c5","InfoText","_c6","NextButton","button","_c7","TargetDisplay","_c8","TargetItem","_c9","TargetIcon","_c0","TargetCount","_c1","Timer","urgent","_c10","createFallingAnimation","startX","endX","duration","HandCatcher","x","y","_c11","ShapeContainer","caught","paused","_c12","CatcherContainer","CatcherInner","CatchEffect","_c13","PLAYER_COLORS","SHAPES","name","svg","viewBox","children","width","height","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","points","d","ShapeDrop","playerCount","_s","players","setPlayers","Array","from","length","_","i","id","score","shapesCollected","activePlayer","setActivePlayer","phase","setPhase","round","setRound","targets","setTargets","activeShapes","setActiveShapes","mousePosition","setMousePosition","gamePaused","setGamePaused","timeLeft","setTimeLeft","catchEffects","setCatchEffects","gameAreaRef","shapeIntervalRef","totalRounds","handleMouseMove","e","rect","currentTarget","getBoundingClientRect","clientX","left","clientY","top","generateTargets","newTargets","shapesCount","Math","floor","random","selectedShapes","sort","slice","forEach","shape","push","count","startRound","prev","map","p","current","clearInterval","setInterval","addRandomShape","gameArea","gameWidth","clientWidth","speed","newShape","Date","now","some","t","timestamp","gameHeight","clientHeight","animationInterval","currentTime","elapsedTime","progress","min","yPos","filter","age","timer","endRound","setTimeout","newRound","winner","reduce","max","isTie","calculateProgress","shapeName","target","find","collected","percent","handleShapeClick","shapeId","clickedShape","effect","targetShape","updatedShapesCollected","player","index","onClick","Object","values","a","b","ref","onMouseMove","fill","stroke","strokeWidth","strokeLinejoin","strokeLinecap","window","location","reload","_c14","$RefreshReg$"],"sources":["/home/cesur/Documents/Projects/iki-kisilik-web/src/components/games/ShapeDrop/ShapeDrop.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled, { keyframes, css } from 'styled-components';\n\n// Animasyonlar\nconst fadeIn = keyframes`\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n`;\n\nconst pulse = keyframes`\n  0% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n`;\n\n// Stil bileşenleri\nconst GameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  padding: 10px;\n  position: relative;\n  overflow: hidden;\n`;\n\nconst Header = styled.h2`\n  color: #fff;\n  font-size: 2.2rem;\n  text-align: center;\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n  text-shadow: 0 2px 10px rgba(0,0,0,0.2);\n`;\n\nconst ScoreBoard = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 24px;\n  margin: 0.5rem 0 1rem;\n  padding: 8px 20px;\n  border-radius: 12px;\n  background: rgba(255,255,255,0.1);\n  animation: ${fadeIn} 0.5s ease-out;\n`;\n\nconst PlayerScore = styled.div<{ color: string, active: boolean }>`\n  color: ${props => props.color};\n  font-size: 1.2rem;\n  font-weight: bold;\n  padding: 8px 15px;\n  border-radius: 8px;\n  border: 2px solid ${props => props.color};\n  background: ${props => props.active ? `${props.color}22` : 'transparent'};\n  animation: ${props => props.active ? pulse : 'none'} 1s infinite;\n`;\n\nconst GameArea = styled.div`\n  width: 100%;\n  height: calc(100vh - 220px);\n  min-height: 500px;\n  position: relative;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 15px;\n  overflow: hidden;\n  background: rgba(0, 0, 0, 0.2);\n  margin: 0;\n  cursor: none;\n`;\n\nconst InfoText = styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  text-align: center;\n  margin: 0.5rem 0;\n  color: white;\n  background: linear-gradient(45deg, #3498db, #1abc9c);\n  padding: 8px 20px;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n`;\n\nconst NextButton = styled.button`\n  background: linear-gradient(45deg, #2ecc71, #27ae60);\n  color: white;\n  font-size: 1.3rem;\n  font-weight: bold;\n  padding: 12px 40px;\n  border: none;\n  border-radius: 8px;\n  margin-top: 1rem;\n  cursor: pointer;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n  \n  &:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 6px 15px rgba(0,0,0,0.2);\n  }\n`;\n\nconst TargetDisplay = styled.div`\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n  align-items: center;\n  margin: 0.5rem 0;\n  padding: 8px 15px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n  flex-wrap: wrap;\n`;\n\nconst TargetItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: linear-gradient(45deg, #3498db, #9b59b6);\n  padding: 5px 10px;\n  border-radius: 8px;\n  margin: 5px;\n`;\n\nconst TargetIcon = styled.div`\n  width: 30px;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  svg {\n    width: 100%;\n    height: 100%;\n    fill: white;\n  }\n`;\n\nconst TargetCount = styled.div`\n  font-size: 1rem;\n  font-weight: bold;\n  color: white;\n`;\n\nconst Timer = styled.div<{ urgent?: boolean }>`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: white;\n  padding: 5px 15px;\n  border-radius: 10px;\n  background: ${props => props.urgent ? '#e74c3c' : '#3498db'};\n  z-index: 10;\n`;\n\n// Düşen şekil stili\nconst createFallingAnimation = (startX: number, endX: number, duration: number) => keyframes`\n  0% { transform: translate(${startX}px, -50px); }\n  100% { transform: translate(${endX}px, calc(100vh - 220px)); }\n`;\n\n// El yakalayıcı SVG'sini ekle\nconst HandCatcher = styled.div<{ x: number, y: number, color: string }>`\n  position: absolute;\n  left: ${props => props.x - 30}px;\n  top: ${props => props.y - 35}px;\n  width: 60px;\n  height: 70px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n  z-index: 5;\n  transform: rotate(0deg);\n`;\n\nconst ShapeContainer = styled.div<{ \n  startX: number, \n  endX: number, \n  duration: number,\n  paused: boolean,\n  color: string,\n  caught: boolean\n}>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50px;\n  height: 50px;\n  display: ${props => props.caught ? 'none' : 'flex'};\n  justify-content: center;\n  align-items: center;\n  animation: ${props => createFallingAnimation(props.startX, props.endX, props.duration)} ${props => props.duration}s linear forwards;\n  animation-play-state: ${props => props.paused ? 'paused' : 'running'};\n  pointer-events: auto;\n  z-index: 3;\n  cursor: pointer;\n  \n  svg {\n    width: 100%;\n    height: 100%;\n    fill: ${props => props.color};\n    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));\n  }\n`;\n\n// Yakalayıcı bileşenlerini değiştir\nconst CatcherContainer = styled.div`\n  display: none;\n`;\n\nconst CatcherInner = styled.div`\n  display: none;\n`;\n\nconst CatchEffect = styled.div<{ x: number, y: number, color: string }>`\n  position: absolute;\n  left: ${props => props.x - 30}px;\n  top: ${props => props.y - 30}px;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: ${props => props.color}88;\n  pointer-events: none;\n  animation: ${pulse} 0.3s ease-out forwards;\n  z-index: 4;\n`;\n\nconst PLAYER_COLORS = ['#e74c3c', '#3498db', '#2ecc71', '#f1c40f'];\n\nconst SHAPES = [\n  {\n    name: 'Kare',\n    svg: <svg viewBox=\"0 0 24 24\"><rect width=\"24\" height=\"24\" /></svg>\n  },\n  {\n    name: 'Daire',\n    svg: <svg viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"12\" /></svg>\n  },\n  {\n    name: 'Üçgen',\n    svg: <svg viewBox=\"0 0 24 24\"><polygon points=\"12,0 24,24 0,24\" /></svg>\n  },\n  {\n    name: 'Yıldız',\n    svg: <svg viewBox=\"0 0 24 24\"><polygon points=\"12,0 15,9 24,9 17,15 20,24 12,18 4,24 7,15 0,9 9,9\" /></svg>\n  },\n  {\n    name: 'Kalp',\n    svg: <svg viewBox=\"0 0 24 24\"><path d=\"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z\" /></svg>\n  },\n  {\n    name: 'Altıgen',\n    svg: <svg viewBox=\"0 0 24 24\"><polygon points=\"12,0 23,6 23,18 12,24 1,18 1,6\" /></svg>\n  }\n];\n\ninterface Player {\n  id: number;\n  score: number;\n  shapesCollected: Record<string, number>; // Her şekilden ne kadar toplandığı\n}\n\ninterface ActiveShape {\n  id: number;\n  shape: typeof SHAPES[0];\n  startX: number;\n  endX: number;\n  speed: number;\n  y: number; // Şu anki y pozisyonu\n  caught: boolean;\n  color: string;\n  timestamp: number; // Oluşturulma zamanı\n}\n\ninterface TargetRequirement {\n  shape: typeof SHAPES[0];\n  count: number;\n}\n\ninterface CatchEffect {\n  id: number;\n  x: number;\n  y: number;\n  color: string;\n}\n\nconst ShapeDrop: React.FC<{ playerCount: number }> = ({ playerCount }) => {\n  const [players, setPlayers] = useState<Player[]>(\n    Array.from({ length: playerCount }, (_, i) => ({ \n      id: i, \n      score: 0,\n      shapesCollected: {} \n    }))\n  );\n  const [activePlayer, setActivePlayer] = useState(0);\n  const [phase, setPhase] = useState<'ready' | 'playing' | 'result' | 'end'>('ready');\n  const [round, setRound] = useState(0);\n  const [targets, setTargets] = useState<TargetRequirement[]>([]);\n  const [activeShapes, setActiveShapes] = useState<ActiveShape[]>([]);\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n  const [gamePaused, setGamePaused] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(30); // 30 saniye süre\n  const [catchEffects, setCatchEffects] = useState<CatchEffect[]>([]);\n  \n  const gameAreaRef = useRef<HTMLDivElement>(null);\n  const shapeIntervalRef = useRef<NodeJS.Timeout | null>(null);\n  const totalRounds = playerCount; // Her oyuncu 1 tur oynasın\n  \n  // Fare pozisyonunu izleme\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (phase !== 'playing' || gamePaused) return;\n    \n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setMousePosition({ x, y });\n  };\n  \n  // Yeni hedefler oluştur\n  const generateTargets = () => {\n    const newTargets: TargetRequirement[] = [];\n    const shapesCount = Math.floor(Math.random() * 2) + 3; // 3-4 farklı şekil\n    \n    // Şekilleri rastgele seç\n    const selectedShapes = [...SHAPES].sort(() => Math.random() - 0.5).slice(0, shapesCount);\n    \n    // Her şekil için hedef sayı belirle (5-15 arası)\n    selectedShapes.forEach(shape => {\n      newTargets.push({\n        shape,\n        count: Math.floor(Math.random() * 6) + 5\n      });\n    });\n    \n    setTargets(newTargets);\n  };\n  \n  // Turu başlat\n  const startRound = () => {\n    // Yeni hedefler oluştur\n    generateTargets();\n    \n    // Başlangıç değerlerini sıfırla\n    setActiveShapes([]);\n    setTimeLeft(30);\n    setPhase('playing');\n    \n    // Aktif oyuncunun topladığı şekilleri sıfırla\n    setPlayers(prev => prev.map((p, i) => {\n      if (i === activePlayer) {\n        return { ...p, shapesCollected: {} };\n      }\n      return p;\n    }));\n    \n    // Düzenli aralıklarla şekil düşürmeye başla\n    if (shapeIntervalRef.current) {\n      clearInterval(shapeIntervalRef.current);\n    }\n    \n    shapeIntervalRef.current = setInterval(() => {\n      if (gamePaused) return;\n      \n      // Rastgele şekil ekle\n      addRandomShape();\n    }, 700); // Her 700ms'de bir yeni şekil (biraz daha yavaş)\n  };\n  \n  // Rastgele şekil oluşturma\n  const addRandomShape = () => {\n    const gameArea = gameAreaRef.current;\n    if (!gameArea) return;\n    \n    const gameWidth = gameArea.clientWidth;\n    \n    // Rastgele bir şekil seç\n    const shape = SHAPES[Math.floor(Math.random() * SHAPES.length)];\n    \n    // Başlangıç X pozisyonu\n    const startX = Math.random() * (gameWidth - 50);\n    \n    // Rastgele bir hız belirle (2-6 saniye)\n    const speed = Math.random() * 2 + 2;\n    \n    // Yeni şekil oluştur\n    const newShape: ActiveShape = {\n      id: Date.now() + Math.random(),\n      shape,\n      startX,\n      endX: startX, // Düz düşsün, endX = startX\n      speed,\n      y: 0,\n      caught: false,\n      color: targets.some(t => t.shape.name === shape.name) \n        ? '#FFD700' // Hedef şekiller altın renkli\n        : '#FFFFFF', // Diğerleri beyaz\n      timestamp: Date.now()\n    };\n    \n    setActiveShapes(prev => [...prev, newShape]);\n  };\n  \n  // Şekillerin pozisyonunu güncelle\n  useEffect(() => {\n    if (phase !== 'playing' || gamePaused) return;\n    \n    const gameArea = gameAreaRef.current;\n    if (!gameArea) return;\n    \n    const gameHeight = gameArea.clientHeight;\n    \n    const animationInterval = setInterval(() => {\n      const currentTime = Date.now();\n      \n      setActiveShapes(prev => prev.map(shape => {\n        if (shape.caught) return shape;\n        \n        // Geçen süreyi hesapla\n        const elapsedTime = (currentTime - shape.timestamp) / 1000;\n        const progress = Math.min(1, elapsedTime / shape.speed);\n        \n        // Mevcut Y pozisyonunu hesapla\n        const yPos = progress * (gameHeight + 100) - 50;\n        \n        // Ekranın dışına çıktıysa kaldır\n        if (yPos > gameHeight && !shape.caught) {\n          return { ...shape, caught: true };\n        }\n        \n        return { ...shape, y: yPos };\n      }));\n      \n      // 5 saniyeden eski yakalanmış şekilleri temizle\n      setActiveShapes(prev => prev.filter(shape => {\n        const age = (currentTime - shape.timestamp) / 1000;\n        return !shape.caught || age < 5;\n      }));\n      \n    }, 16); // Yaklaşık 60 FPS\n    \n    return () => clearInterval(animationInterval);\n  }, [phase, gamePaused]);\n  \n  // Zamanı takip et\n  useEffect(() => {\n    if (phase !== 'playing') return;\n    \n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          // Süre doldu\n          endRound();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    \n    return () => clearInterval(timer);\n  }, [phase]);\n  \n  // Tur sonu kontrolü\n  const endRound = () => {\n    if (shapeIntervalRef.current) {\n      clearInterval(shapeIntervalRef.current);\n      shapeIntervalRef.current = null;\n    }\n    \n    setGamePaused(true);\n    setPhase('result');\n    \n    // 3 saniye sonra sonraki aşama\n    setTimeout(() => {\n      const newRound = round + 1;\n      setRound(newRound);\n      \n      if (newRound >= totalRounds) {\n        setPhase('end');\n      } else {\n        setActivePlayer((activePlayer + 1) % playerCount);\n        setPhase('ready');\n        setGamePaused(false);\n      }\n    }, 3000);\n  };\n  \n  // Temizlik işlemleri\n  useEffect(() => {\n    return () => {\n      if (shapeIntervalRef.current) {\n        clearInterval(shapeIntervalRef.current);\n      }\n    };\n  }, []);\n  \n  // Kazananı bul\n  const winner = players.reduce(\n    (max, p) => p.score > max.score ? p : max, \n    players[0]\n  );\n  \n  // Beraberlik durumu\n  const isTie = players.filter(p => p.score === winner.score).length > 1;\n  \n  // Hedef ilerleme hesapla\n  const calculateProgress = (shapeName: string) => {\n    const target = targets.find(t => t.shape.name === shapeName);\n    if (!target) return { collected: 0, target: 0, percent: 0 };\n    \n    const collected = players[activePlayer].shapesCollected[shapeName] || 0;\n    const percent = Math.min(100, (collected / target.count) * 100);\n    \n    return { collected, target: target.count, percent };\n  };\n  \n  // Şekile tıklama olayını işle\n  const handleShapeClick = (shapeId: number) => {\n    if (phase !== 'playing' || gamePaused) return;\n    \n    // Tıklanan şekli bul\n    const clickedShape = activeShapes.find(shape => shape.id === shapeId);\n    if (!clickedShape || clickedShape.caught) return;\n    \n    // Şekli yakalandı olarak işaretle\n    setActiveShapes(prev => prev.map(shape => \n      shape.id === shapeId ? { ...shape, caught: true } : shape\n    ));\n    \n    // Yakalama efekti ekle\n    setCatchEffects(prev => [...prev, {\n      id: Date.now() + Math.random(),\n      x: clickedShape.startX + 25, // Şeklin ortası\n      y: clickedShape.y + 25, // Güncel Y pozisyonu kullan\n      color: clickedShape.color\n    }]);\n    \n    // 500ms sonra efekti kaldır\n    setTimeout(() => {\n      setCatchEffects(prev => prev.filter(effect => effect.id !== Date.now() + Math.random()));\n    }, 500);\n    \n    // Hedef şekil mi kontrol et\n    const targetShape = targets.find(t => t.shape.name === clickedShape.shape.name);\n    if (targetShape) {\n      // Oyuncunun topladığı şekilleri güncelle\n      setPlayers(prev => prev.map((p, i) => {\n        if (i === activePlayer) {\n          const updatedShapesCollected = { ...p.shapesCollected };\n          updatedShapesCollected[clickedShape.shape.name] = (updatedShapesCollected[clickedShape.shape.name] || 0) + 1;\n          \n          return { \n            ...p, \n            shapesCollected: updatedShapesCollected,\n            score: p.score + 1 // Her yakalanan hedef şekil için 1 puan\n          };\n        }\n        return p;\n      }));\n    }\n  };\n  \n  return (\n    <GameContainer>\n      <Header>Şekil Yakalama</Header>\n      \n      <ScoreBoard>\n        {players.map((player, index) => (\n          <PlayerScore \n            key={player.id} \n            color={PLAYER_COLORS[index]} \n            active={activePlayer === index && phase !== 'end'}\n          >\n            Oyuncu {index + 1}: {player.score}\n          </PlayerScore>\n        ))}\n      </ScoreBoard>\n      \n      {phase === 'ready' && (\n        <>\n          <InfoText>Sıra: Oyuncu {activePlayer + 1}</InfoText>\n          <NextButton onClick={startRound}>Hazırım</NextButton>\n        </>\n      )}\n      \n      {(phase === 'playing' || phase === 'result') && (\n        <>\n          <InfoText>\n            {phase === 'playing' \n              ? `Hedef şekilleri yakala!` \n              : `Süre doldu! Yakalalanlar: ${Object.values(players[activePlayer].shapesCollected).reduce((a, b) => a + b, 0)}`\n            }\n          </InfoText>\n          \n          <TargetDisplay>\n            {targets.map((target, i) => {\n              const progress = calculateProgress(target.shape.name);\n              return (\n                <TargetItem key={i}>\n                  <TargetIcon>{target.shape.svg}</TargetIcon>\n                  <TargetCount>{progress.collected}/{target.count}</TargetCount>\n                </TargetItem>\n              );\n            })}\n          </TargetDisplay>\n          \n          <GameArea \n            ref={gameAreaRef}\n            onMouseMove={handleMouseMove}\n          >\n            {phase === 'playing' && (\n              <Timer urgent={timeLeft <= 5}>\n                {timeLeft}\n              </Timer>\n            )}\n            \n            {activeShapes.map(shape => (\n              <ShapeContainer\n                key={shape.id}\n                startX={shape.startX}\n                endX={shape.endX}\n                duration={shape.speed}\n                paused={gamePaused}\n                color={shape.color}\n                caught={shape.caught}\n                onClick={() => handleShapeClick(shape.id)}\n              >\n                {shape.shape.svg}\n              </ShapeContainer>\n            ))}\n            \n            {catchEffects.map(effect => (\n              <CatchEffect \n                key={effect.id}\n                x={effect.x}\n                y={effect.y}\n                color={effect.color}\n              />\n            ))}\n            \n            {phase === 'playing' && (\n              <HandCatcher\n                x={mousePosition.x} \n                y={mousePosition.y}\n                color={PLAYER_COLORS[activePlayer]}\n              >\n                <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={PLAYER_COLORS[activePlayer]} strokeWidth=\"2\">\n                  <path d=\"M6,12.5 v-2 c0-1.1,0.9-2,2-2 s2,0.9,2,2 v-4 c0-1.1,0.9-2,2-2 s2,0.9,2,2 v0 c0-1.1,0.9-2,2-2 s2,0.9,2,2 v4 c0-1.1,0.9-2,2-2 s2,0.9,2,2 v6 c0,4.4-3.6,8-8,8 h-2 c-2.8,0-5.5-1.5-7-4 l-3-5\" \n                   fill=\"rgba(255,255,255,0.2)\" strokeLinejoin=\"round\" strokeLinecap=\"round\" />\n                </svg>\n              </HandCatcher>\n            )}\n          </GameArea>\n        </>\n      )}\n      \n      {phase === 'end' && (\n        <>\n          <InfoText>\n            {isTie \n              ? 'Oyun Bitti! Beraberlik!' \n              : `Oyun Bitti! Kazanan: Oyuncu ${winner.id + 1}`\n            }\n          </InfoText>\n          <ScoreBoard>\n            {players.map((player, index) => (\n              <PlayerScore \n                key={player.id} \n                color={PLAYER_COLORS[index]}\n                active={player.id === winner.id && !isTie}\n              >\n                Oyuncu {index + 1}: {player.score}\n              </PlayerScore>\n            ))}\n          </ScoreBoard>\n          <NextButton onClick={() => window.location.reload()}>\n            Tekrar Oyna\n          </NextButton>\n        </>\n      )}\n    </GameContainer>\n  );\n};\n\nexport default ShapeDrop; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}